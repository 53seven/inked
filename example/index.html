<!DOCTYPE html>
<meta charset="utf-8">
<style>
body {
  font: 10px sans-serif;
}

.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

.x.axis path {
  display: none;
}

.line {
  fill: none;
  stroke: steelblue;
  stroke-width: 1.5px;
}
</style>
<body>

<!-- scripts for resource loading -->
<script src="https://d3js.org/d3-collection.v0.1.min.js"></script>
<script src="https://d3js.org/d3-dispatch.v0.4.min.js"></script>
<script src="https://d3js.org/d3-dsv.v0.3.min.js"></script>
<script src="https://d3js.org/d3-request.v0.4.min.js"></script>

<!-- scripts for time formatting -->
<script src="https://d3js.org/d3-time.v0.2.min.js"></script>
<script src="https://d3js.org/d3-time-format.v0.3.min.js"></script>

<script type="" src="https://cdn.rawgit.com/53seven/d3-svg/master/build/d3-svg.min.js"></script>
<script src="../build/537-base-chart.js"></script>
<script>
/*var TimeSeries = $537.TimeSeries;

// create an svg
d3_request.json('./sample.json', function(err, raw) {
  if (err) {
    throw err;
  }
  var data = raw.req.buckets.map((d) => {
    d.key = new Date(d.key);
    return d;
  });
  var ts = new TimeSeries({
    width: 700,
    height: 400
  });
  ts
    .margin({top: 20, right: 30, bottom: 20, left: 40})
    .xVal('key')
    .yVal('doc_count')
    .data(data)
    .render();

  setTimeout(function() {
    data.push({
      key: new Date('2016-03-01'),
      doc_count: 500
    });
    ts.update();
  }, 1000);

});*/

var Formula = $537.Formula;

var income = 160000;
var col = 130000;

var capital = income - col;

var option_val = 0.01 * 0.5;
var tax_rate = 0.4;

var liability = new Formula({
  val: function(x) {
    return x * option_val * tax_rate;
  },
  domain: [1000000000, 5000000000],
  sample: 1000
});

var years_til_own = new Formula({
  val: function(x) {
    return liability.eval(x) / capital;
  },
  domain: [1000000000, 5000000000],
  sample: 1000
});

var LineChart = $537.LineChart;
var lc = new LineChart({
  width: 700,
  height: 400,
  x: liability.input(),
  y: liability.output(),
  data: liability.data()
})
.margin({top: 20, right: 30, bottom: 20, left: 80})
.render();

var LineChart = $537.LineChart;
var lc = new LineChart({
  width: 700,
  height: 400,
  x: years_til_own.input(),
  y: years_til_own.output(),
  data: years_til_own.data()
})
.margin({top: 20, right: 30, bottom: 20, left: 80})
.render();

</script>